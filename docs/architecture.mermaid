graph TD
    %% Frontend Layer
    FE[React Frontend] --> WC[Wallet Connection]
    FE --> LC[Loan Creation]
    FE --> TF[Token Feed]
    FE --> TD[Token Details]
    FE --> TX[Transaction Handling]
    
    %% Contract Integration
    WC --> CI[Contract Integration]
    LC --> CI
    TF --> CI
    TD --> CI
    TX --> CI
    
    %% Services
    CI --> MS[Metadata Service]
    CI --> CS[Contract Service]
    CI --> TS[Transaction Service]
    CI --> FS[Feed Service]
    CI --> DS[Token Detail Service]
    
    %% Blockchain Integration
    CI --> MB[Moonbeam Testnet]
    MB --> SC[Smart Contracts]
    SC --> NFT[ERC-721 Token Contract]
    
    %% Storage Layer
    MS --> IPFS[(IPFS/nft.storage)]
    
    %% UI Components
    LC --> LDF[Loan Details Form]
    LC --> MC[Metadata Confirmation]
    TF --> LF[Loan Feed]
    TF --> LCard[Loan Card]
    TD --> TDV[Token Detail View]
    TD --> BI[Blockchain Info]
    TD --> MD[Metadata Display]
    TX --> TN[Transaction Notification]
    TX --> TH[Transaction History]
    TX --> DP[Demo Page]
    
    %% Component Definitions
    subgraph Frontend Components
        FE
        WC
        LC
        TF
        TD
        TX
        LDF
        MC
        LF
        LCard
        TDV
        BI
        MD
        TN
        TH
        DP
    end
    
    subgraph Contract Integration Services
        CI
        MS
        CS
        TS
        FS
        DS
    end
    
    subgraph Blockchain Layer
        MB
        SC
        NFT
    end
    
    subgraph Storage Layer
        IPFS
    end
    
    %% Styling
    style FE fill:#dfd,stroke:#333,stroke-width:2px
    style WC fill:#dfd,stroke:#333,stroke-width:2px
    style LC fill:#dfd,stroke:#333,stroke-width:2px
    style TF fill:#dfd,stroke:#333,stroke-width:2px
    style TD fill:#dfd,stroke:#333,stroke-width:2px
    style TX fill:#dfd,stroke:#333,stroke-width:2px
    style CI fill:#bbf,stroke:#333,stroke-width:2px
    style MS fill:#bbf,stroke:#333,stroke-width:2px
    style CS fill:#bbf,stroke:#333,stroke-width:2px
    style TS fill:#bbf,stroke:#333,stroke-width:2px
    style FS fill:#bbf,stroke:#333,stroke-width:2px
    style DS fill:#bbf,stroke:#333,stroke-width:2px
    style MB fill:#ffd,stroke:#333,stroke-width:2px
    style SC fill:#ffd,stroke:#333,stroke-width:2px
    style NFT fill:#ffd,stroke:#333,stroke-width:2px
    style IPFS fill:#fdb,stroke:#333,stroke-width:2px
    style LDF fill:#dfd,stroke:#333,stroke-width:1px
    style MC fill:#dfd,stroke:#333,stroke-width:1px
    style LF fill:#dfd,stroke:#333,stroke-width:1px
    style LCard fill:#dfd,stroke:#333,stroke-width:1px
    style TDV fill:#dfd,stroke:#333,stroke-width:1px
    style BI fill:#dfd,stroke:#333,stroke-width:1px
    style MD fill:#dfd,stroke:#333,stroke-width:1px
    style TN fill:#dfd,stroke:#333,stroke-width:1px
    style TH fill:#dfd,stroke:#333,stroke-width:1px
    style DP fill:#dfd,stroke:#333,stroke-width:1px